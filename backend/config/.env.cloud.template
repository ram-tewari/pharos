# Cloud API Configuration Template (Render Free Tier)
# Copy this file to .env.cloud and fill in your credentials
# Deploy to Render with MODE=CLOUD

# ============================================================================
# DEPLOYMENT MODE
# ============================================================================
MODE=CLOUD

# ============================================================================
# TASK QUEUE (Upstash Redis) - REQUIRED
# ============================================================================
# Get these from: https://console.upstash.com/redis
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token-here

# ============================================================================
# DATABASE (Neon PostgreSQL) - REQUIRED
# ============================================================================
# Get this from: https://console.neon.tech
NEON_DATABASE_URL=postgresql://user:password@ep-xxx.neon.tech/neondb
DATABASE_URL=${NEON_DATABASE_URL}

# ============================================================================
# VECTOR DATABASE (Qdrant Cloud) - REQUIRED
# ============================================================================
# Get these from: https://cloud.qdrant.io
QDRANT_URL=https://your-cluster.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key-here

# ============================================================================
# API AUTHENTICATION - REQUIRED
# ============================================================================
# Generate a secure random token for API authentication
# This prevents unauthorized users from submitting ingestion tasks
# Example: openssl rand -hex 32
PHAROS_ADMIN_TOKEN=your-secure-admin-token-here

# ============================================================================
# QUEUE CONFIGURATION
# ============================================================================
# Maximum pending tasks (prevents zombie queue problem)
MAX_QUEUE_SIZE=10

# Task TTL in seconds (24 hours = 86400)
# Tasks older than this are skipped by the edge worker
TASK_TTL_SECONDS=86400

# ============================================================================
# JWT AUTHENTICATION (if using auth features)
# ============================================================================
JWT_SECRET_KEY=change-this-secret-key-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENV=prod
FRONTEND_URL=https://your-frontend-url.com

# ============================================================================
# NOTES
# ============================================================================
# - Cloud API runs on Render Free Tier (512MB RAM)
# - NO torch or heavy ML libraries in cloud mode
# - All ML processing happens on Edge Worker
# - Use HTTPS for all external API URLs (security requirement)
