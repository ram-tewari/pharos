<!DOCTYPE html>
<html>
<head>
    <title>Test Monitoring API</title>
</head>
<body>
    <h1>Monitoring API Test</h1>
    <button onclick="testHealth()">Test Health Endpoint</button>
    <button onclick="testPerformance()">Test Performance Endpoint</button>
    <button onclick="testDatabase()">Test Database Endpoint</button>
    <pre id="output"></pre>

    <script>
        const API_BASE = 'https://pharos.onrender.com';
        const output = document.getElementById('output');

        async function testEndpoint(name, url) {
            output.textContent += `\n\nTesting ${name}...\n`;
            try {
                const response = await fetch(url);
                const data = await response.json();
                output.textContent += `✓ Success (${response.status})\n`;
                output.textContent += JSON.stringify(data, null, 2) + '\n';
            } catch (error) {
                output.textContent += `✗ Failed: ${error.message}\n`;
            }
        }

        async function testHealth() {
            await testEndpoint('Health', `${API_BASE}/api/monitoring/health`);
        }

        async function testPerformance() {
            await testEndpoint('Performance', `${API_BASE}/api/monitoring/performance`);
        }

        async function testDatabase() {
            await testEndpoint('Database', `${API_BASE}/api/monitoring/database`);
        }

        // Auto-test on load
        window.onload = async () => {
            output.textContent = 'Starting API tests...\n';
            await testHealth();
        };
    </script>
</body>
</html>
