# Register subcommands using invoke_with_callback approach
# This allows lazy loading of command modules
@app.command("auth")
def auth_cmd(ctx: typer.Context) -> None:
    """Authentication commands."""
    _get_command_app('auth')
    ctx.invoke(_get_command_app('auth'), obj={})

@app.command("config")
def config_cmd(ctx: typer.Context) -> None:
    """Configuration commands."""
    _get_command_app('config')
    ctx.invoke(_get_command_app('config'), obj={})

@app.command("resource")
def resource_cmd(ctx: typer.Context) -> None:
    """Resource management commands."""
    _get_command_app('resource')
    ctx.invoke(_get_command_app('resource'), obj={})

@app.command("collection")
def collection_cmd(ctx: typer.Context) -> None:
    """Collection management commands."""
    _get_command_app('collection')
    ctx.invoke(_get_command_app('collection'), obj={})

@app.command("search")
def search_cmd(ctx: typer.Context) -> None:
    """Search for resources."""
    _get_command_app('search')
    ctx.invoke(_get_command_app('search'), obj={})

@app.command("graph")
def graph_cmd(ctx: typer.Context) -> None:
    """Knowledge graph and citation commands."""
    _get_command_app('graph')
    ctx.invoke(_get_command_app('graph'), obj={})

@app.command("batch")
def batch_cmd(ctx: typer.Context) -> None:
    """Batch operations for resources and collections."""
    _get_command_app('batch')
    ctx.invoke(_get_command_app('batch'), obj={})

@app.command("chat")
def chat_cmd(ctx: typer.Context) -> None:
    """Interactive chat with your knowledge base."""
    _get_command_app('chat')
    ctx.invoke(_get_command_app('chat'), obj={})

@app.command("recommend")
def recommend_cmd(ctx: typer.Context) -> None:
    """Get recommendations for resources."""
    _get_command_app('recommend')
    ctx.invoke(_get_command_app('recommend'), obj={})

@app.command("annotate")
def annotate_cmd(ctx: typer.Context) -> None:
    """Annotation management commands."""
    _get_command_app('annotate')
    ctx.invoke(_get_command_app('annotate'), obj={})

@app.command("quality")
def quality_cmd(ctx: typer.Context) -> None:
    """Quality assessment commands."""
    _get_command_app('quality')
    ctx.invoke(_get_command_app('quality'), obj={})

@app.command("taxonomy")
def taxonomy_cmd(ctx: typer.Context) -> None:
    """Taxonomy and classification commands."""
    _get_command_app('taxonomy')
    ctx.invoke(_get_command_app('taxonomy'), obj={})

@app.command("code")
def code_cmd(ctx: typer.Context) -> None:
    """Code analysis and intelligence commands."""
    _get_command_app('code')
    ctx.invoke(_get_command_app('code'), obj={})

@app.command("ask")
def rag_cmd(ctx: typer.Context) -> None:
    """Ask questions and get answers from your knowledge base."""
    _get_command_app('rag')
    ctx.invoke(_get_command_app('rag'), obj={})

@app.command("system")
def system_cmd(ctx: typer.Context) -> None:
    """System management commands."""
    _get_command_app('system')
    ctx.invoke(_get_command_app('system'), obj={})

@app.command("backup")
def backup_cmd(ctx: typer.Context) -> None:
    """Backup and restore commands."""
    _get_command_app('backup')
    ctx.invoke(_get_command_app('backup'), obj={})